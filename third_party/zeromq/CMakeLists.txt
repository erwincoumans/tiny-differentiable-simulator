INCLUDE_DIRECTORIES( src )
INCLUDE_DIRECTORIES( include )

IF(WIN32)
INCLUDE_DIRECTORIES( include_win32 )
ENDIF()

IF(APPLE)
INCLUDE_DIRECTORIES( include_darwin )
ENDIF()

IF(CMAKE_SYSTEM_NAME MATCHES "Linux")
INCLUDE_DIRECTORIES( include_linux )
ENDIF()


file(GLOB ZMQ_src
    "src/*.c"
    "src/*.h"
    "src/*.cpp"
)

ADD_DEFINITIONS( -DZMQ_STATIC -DZMQ_CUSTOM_PLATFORM_HPP )
ADD_DEFINITIONS( -DZMQ_BUILD_DRAFT_API )
ADD_DEFINITIONS( -DZMQ_USE_RADIX_TREE )
ADD_DEFINITIONS( -D_REENTRANT )
ADD_DEFINITIONS( -D_THREAD_SAFE )
#ADD_DEFINITIONS( -DFD_SETSIZE=16384  )


ADD_LIBRARY(zmq ${ZMQ_src})
target_include_directories( zmq PUBLIC include )
target_compile_definitions( zmq PUBLIC -DZMQ_STATIC -DNOMINMAX PRIVATE -DZMQ_STATIC)

IF(CMAKE_SYSTEM_NAME MATCHES "Linux")
target_link_libraries(zmq pthread)
ENDIF()



